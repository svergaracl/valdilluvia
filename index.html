<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sitio simple — Loop de video/GIF</title>
  <link rel="stylesheet" href="styles.css.css" />
</head>
  <script>
document.addEventListener('DOMContentLoaded', function () {
  const video = document.getElementById('player');
  const btn = document.getElementById('playBtn');
  if (!video || !btn) return console.error('Falta #player o #playBtn');

  btn.addEventListener('click', async () => {
    btn.disabled = true;
    video.muted = false; // quitar silencio
    try {
      await video.play();
      btn.style.opacity = '0';
      btn.style.pointerEvents = 'none';
      btn.setAttribute('aria-hidden', 'true');
    } catch (err) {
      console.error('play() falló:', err);
      video.controls = true; // fallback para que el usuario reproduzca manualmente
      btn.disabled = false;
      alert('No se pudo reproducir con audio automáticamente. Revisa la consola.');
    }
  });
});
</script>
  
<body>
  <main class="container">
    <h1>Simplemente Valdilluvia....</h1>

    <figure class="media">
     <!-- Reemplaza la etiqueta <video> existente por este bloque -->
<div class="video-wrap">
  <video
    id="player"
    class="media__video"
    loop
    playsinline
    controls
    poster="assets/poster.jpg"
    aria-label="Vídeo en bucle que muestra una animación decorativa"
  >
    <source src="video1.mp4" type="video/mp4" />
    <!-- Fallback: imagen GIF -->
    <img src="assets/animation.gif" alt="Animación en bucle alternativa (GIF)" />
  </video>

  <!-- Botón overlay para iniciar con sonido (accesible) -->
  <button id="playBtn" class="play-btn" aria-label="Reproducir con sonido">
    ▶︎ Reproducir con sonido
  </button>
</div>
      <figcaption class="media__caption">Video subido a Youtube por Enrique Walker</figcaption>
    </figure>

    <p class="notes">.</p>
  </main>
</body>
</html>
